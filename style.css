:root {
  --bg:#000;
  --panel:#0f0f10;
  --muted:#9aa0a6;
  --accent:#4aa3ff;
  --admin:#8be28b;
  --user:#7fb5ff;
  --bubble-user:#071428;
  --bubble-admin:#1b1b1b;
  --input:#111217;
  --danger:#f00;
  --code-bg:#111213;
  --white:#fff;
  --yellowgreen:#9acd32;
}

html, body {
  height:100%; width:100%; margin:0; padding:0; overflow:hidden;
  color:var(--white); font-family:Inter, system-ui, Arial;
  background:transparent;
  -webkit-font-smoothing:antialiased;
}

h2 { margin:0 0 12px; color:var(--yellowgreen); text-align:center; font-family:Courier; transition:.3s; }
h2:hover { font-size:50px; color:var(--danger); }

video { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%) scale(.665); }

.wrap {
  position:relative; z-index:1; max-width:980px; margin:18px auto; padding:18px;
  background:rgba(20,20,20,.35); border-radius:28px;
  backdrop-filter:blur(18px) saturate(180%);
  -webkit-backdrop-filter:blur(18px) saturate(180%);
  box-shadow:inset 0 0 30px rgba(255,255,255,.04),
             0 0 18px rgba(255,255,255,.08),
             0 6px 24px rgba(0,0,0,.55);
}

.panel {
  max-height: 0;
  opacity: 0;
  overflow: hidden;
  transform: translateY(20px);
  transition: max-height 1s ease-out, 
              opacity 1s ease-out, 
              transform 1s ease-out;
}

.panel.show {
  max-height: 1000px; /* đủ lớn để chứa nội dung */
  opacity: 1;
  transform: translateY(0);
}

canvas {
  display:block; position:fixed !important; top:0; left:0;
  width:100% !important; height:100% !important; z-index:0;
}

#choice { display:flex; flex-direction:column; align-items:center; gap:12px; margin-bottom:12px; }

button.btn {
  background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01));
  border:1px solid rgba(255,255,255,.06); color:var(--white);
  padding:8px 12px; border-radius:8px; cursor:pointer; font-weight:600;
  transition:.3s;
}
button.btn:hover { transform:translateY(-3px); box-shadow:0 0 20px rgba(0,0,0,.6); }
button.btn:active { transform:translateY(0); }

#chat {
  border:1px solid rgba(255,255,255,.04); height:340px; overflow:auto; padding:12px;
  background:linear-gradient(180deg, rgba(255,255,255,.01), transparent);
  border-radius:8px; display:flex; flex-direction:column;
}

.msg {
  display:inline-block; max-width:75%; margin:6px 0; padding:8px 12px;
  border-radius:10px; line-height:1.3; font-size:.95em; word-break:break-word;
  opacity: 0; transform: translateY(10px);
  animation: fadeInUp .4s forwards;
}

@keyframes fadeInUp {
  to { opacity: 1; transform: translateY(0); }
}

.sys { display:flex; justify-content:center; width:100%; margin:8px 0; color:#ccc; font-style:italic; }
.me {
  margin-left:auto;
  background:linear-gradient(180deg, rgba(74,163,255,.12), rgba(74,163,255,.06));
  border:1px solid rgba(74,163,255,.12); color:var(--user);
}
.other {
  margin-right:auto;
  background:linear-gradient(180deg, rgba(255,255,255,.02), transparent);
  border:1px solid rgba(255,255,255,.04); color:var(--white);
}

#userList { display:flex; gap:8px; flex-wrap:wrap; margin-top:8px; }
#userList button {
  background:transparent; border:1px solid rgba(255,255,255,.04); color:var(--muted);
  padding:6px 8px; border-radius:8px; cursor:pointer;
}
#userList button:hover { color:var(--white); border-color:rgba(74,163,255,.14); }

input, textarea {
  background:var(--input); color:var(--white); border:1px solid rgba(255,255,255,.06);
  padding:8px 10px; border-radius:8px; outline:none; font-size:.96em;
}
input::placeholder { color:rgba(255,255,255,.35); }

.row { display:flex; gap:8px; align-items:center; margin-top:10px; }

#chatAdmin {
  height:200px; overflow:auto; border:1px solid rgba(255,255,255,.04);
  padding:10px; border-radius:8px; background:transparent;
}

code {
  color:var(--white); background:var(--code-bg);
  padding:2px 6px; border-radius:6px;
  font-family:ui-monospace, monospace;
  font-size:.95em; border:1px solid rgba(255,255,255,.04);
}

@media (max-width:640px){
  .wrap{margin:12px; padding:12px;}
  #chat{height:260px;} #chatAdmin{height:200px;}
  .msg{max-width:92%;}
}
